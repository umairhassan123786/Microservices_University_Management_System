spring:
  application:
    name: api-gateway
  cloud:
    config:
      enabled: false
    gateway:
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true
      routes:
        # Auth Service Route - NO FILTERS
        - id: auth-service
          uri: lb://auth-service
          predicates:
            - Path=/api/auth/**

        # Student Service Route - NO FILTERS
        - id: student-service
          uri: lb://student-service
          predicates:
            - Path=/api/students/**

        # Teacher Service Route - NO FILTERS
        - id: teacher-service
          uri: lb://teacher-service
          predicates:
            - Path=/api/teachers/**

        # Course Service Route - NO FILTERS
        - id: course-service
          uri: lb://course-service
          predicates:
            - Path=/api/courses/**

        # Attendance Service Route - NO FILTERS
        - id: attendance-service
          uri: lb://attendance-service
          predicates:
            - Path=/api/attendance/**

server:
  port: 8080

eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka/
    register-with-eureka: true
    fetch-registry: true
    logging:
      level:
        com.university.logging: INFO
        org.springframework.web.filter: DEBUG
      file:
        name: logs/${spring.application.name}.log
      pattern:
        file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%X{traceId:-},%X{spanId:-}] [%thread] %-5level %logger{36} - %msg%n"
        console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%X{traceId:-},%X{spanId:-}] [%thread] %-5level %logger{36} - %msg%n"
        sleuth:
        sampler:
          probability: 1.0